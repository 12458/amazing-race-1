{% extends "layout.html" %}

{% block head %}
    <link href="static/styles/style.css" rel="stylesheet">
    <link href="static/styles/leaderboard.css" rel="stylesheet">
{% endblock %}

{% block body %}
    <header>
        <a href="/"><img src="/static/images/logowhite.svg" alt="BuildingBlocs2020" class="main-logo"></a>
        <h1>BuildingBloCS2020</h1>
        <h2 class="race">The Amazing Race</h2>
        <h3 class="details">Complete as many stages as you can. Good luck and have fun!</h3>
    </header>

    <ul class="navbar">
        <li class="navitem"><a href="/">Home</a></li>
        <li class="navitem"><a href="/leaderboard">Leaderboard</a></li>
        <li class="navitem"><a href="/about">About</a></li>
        <li class="navitem" style="float:right"><a href="/logout">Logout</a></li>
    </ul>

    <section>
        <h2>Update database:</h2>
        <form action="/admin" method="post">
            <div class="update">
                <select name="operation">
                    <option value="addtoprogress">Add user to Progress</option>
                    <option value="changepsw">Update password</option>
                    <option value="changegrp">Update group</option>
                    <option value="reset">Reset Progress</option>
                </select>

                <h4>Email:<br><input name="email" type="text" required></h4>

                <h4>Name (If needed):<br><input name="name" type="text"></h4>

                <h4>New password (If needed):<br><input name="password" type="text"></h4>

                <h4>Group (If needed. Must be int):<br><input name="group" type="text"></h4>
            </div>

            <input type="submit" value="Submit">
        </form>
        <br>

        <table class="leaderboard" style="font-size:10px;">
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Email</th>
                <th>Max</th>
                <th>Bonus0</th>
                <th>Bonus1</th>
                <th>Bonus2</th>
                <th>Main0</th>
                <th>Main1</th>
                <th>Main2</th>
                <th>Main3</th>
                <th>Main4</th>
                <th>Main5</th>
                <th>Main6</th>
                <th>Main7</th>
                <th>End</th>
                <th>Psw</th>
                <th>Group</th>
            </tr>

            {% for i in range(data|length) %}
                <tr>
                    <td>{{ i + 1 }}</td>
                    <td>{{ data[i].name }}</td>
                    <td>{{ data[i].email }}</td>
                    <td>{{ data[i].mainstage }}</td>
                    <td>{{ data[i].bonus0 }}</td>
                    <td>{{ data[i].bonus1 }}</td>
                    <td>{{ data[i].bonus2 }}</td>
                    <td>{{ data[i].main0 }}</td>
                    <td>{{ data[i].main1 }}</td>
                    <td>{{ data[i].main2 }}</td>
                    <td>{{ data[i].main3 }}</td>
                    <td>{{ data[i].main4 }}</td>
                    <td>{{ data[i].main5 }}</td>
                    <td>{{ data[i].main6 }}</td>
                    <td>{{ data[i].main7 }}</td>
                    <td>{{ data[i].end }}</td>
                    <td>{{ data[i].psw }}</td>
                    <td>{{ data[i].group }}</td>
                </tr>
            {% endfor %}
        </table>
    </section>
{% endblock %}